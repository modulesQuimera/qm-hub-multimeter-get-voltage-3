<script type="text/javascript">
    RED.nodes.registerType('get-voltage-3',{
        category: 'multimeter modular',
        color: '#32CD32',
        defaults: {
            name:{ value: "" },
            AC_mode:{ value:"" },
            scale: { value:"" },
            slot: {value:"", required:true},

            compare_selectA: {value:"interval", required:true},
            maxValueA: {value: null},
            minValueA: {value: null},

            compare_selectB: {value:"interval", required:true},
            maxValueB: {value: null},
            minValueB: {value: null},

            compare_selectC: {value:"interval", required:true},
            maxValueC: {value: null},
            minValueC: {value: null}
        },
        inputs:1,
        outputs:1,
        icon: "Multimeter_Modular.svg",
        label: function() { return this.name? "Get Voltage-3 - " + this.name: "Get Voltage-3" },
        paletteLabel: "Get Voltage 3",
        oneditprepare: function() {
            var node = this;

            $("#node-input-compare_selectA").on("change", function(e) {
                var compare = $(this).val();
                if (compare === "interval") {
                    $(".node-input-max-valueA").show();
                    $(".node-input-min-valueA").show();
                }

                if (compare === "maxValue") {
                    $(".node-input-max-valueA").show();
                    $(".node-input-min-valueA").hide();
                }
                if (compare === "minValue") {
                    $(".node-input-max-valueA").hide();
                    $(".node-input-min-valueA").show();
                }
            });

            $("#node-input-compare_selectB").on("change", function(e) {
                var compare = $(this).val();
                if (compare === "interval") {
                    $(".node-input-max-valueB").show();
                    $(".node-input-min-valueB").show();
                }

                if (compare === "maxValue") {
                    $(".node-input-max-valueB").show();
                    $(".node-input-min-valueB").hide();
                }
                if (compare === "minValue") {
                    $(".node-input-max-valueB").hide();
                    $(".node-input-min-valueB").show();
                }
            });

            $("#node-input-compare_selectC").on("change", function(e) {
                var compare = $(this).val();
                if (compare === "interval") {
                    $(".node-input-max-valueC").show();
                    $(".node-input-min-valueC").show();
                }

                if (compare === "maxValue") {
                    $(".node-input-max-valueC").show();
                    $(".node-input-min-valueC").hide();
                }
                if (compare === "minValue") {
                    $(".node-input-max-valueC").hide();
                    $(".node-input-min-valueC").show();
                }
            });
        },
    });

</script>

</script>


<style>

    .hr-full{
        width: 100% !important;
    }

    label{
        width: 50% !important;
        margin-bottom: 2px !important;
    }

    hr {
    width: 40% !important;
    float: left !important;
    }

    .hr-div-get-voltage-3{
        display: flex !important;
        justify-content: space-between !important;
        margin-top: 35px !important;
    }

    .optional{
        height: max-content !important;
        margin-top: 10px !important;
    }

    .descript{
        text-align: center;
    }

    .columm{
        display: flex !important;
        flex-direction: column !important;
    }


</style>

<script type="text/html" data-template-name="get-voltage-3">
    <div class="form-row columm">
        <strong class="descript">
            A comparation is made with the measured value of three-phase voltage.
        </strong>
    </div>
    <div style="display: flex;">
        <div class="form-row columm" style=" width: 50%; float: left;">
            <label for="node-input-AC_mode"><i class="fa fa-sliders"></i> AC mode</label>
            <select id="node-input-AC_mode" style="width:50%">
                <option value="true" selected>True</option> 
                <option value="false">False</option>
            </select>
        </div>
        <div class="form-row columm" style=" width: 50%; float: left;">
            <label for="node-input-scale"><i class="fa fa-expand"></i> Scale</label>
            <input type="number" step="any" id="node-input-scale" placeholder="scale" style="width:50%; ">
     
        </div>
    </div>
    <div class="form-row columm">
        <label  for="node-input-slot"><i class="fa fa-sliders"></i> Slot</label>
        <input min="0" type="number" id="node-input-slot" style="width:20%;">
    </div>

    <hr class="hr-full">

    <div class="form-row columm">
        <label style="width: auto;" for="node-input-compare_selectA"><i class="icon-tag"></i>Phase-A comparison type:</label>
        <select id="node-input-compare_selectA" style="width:170px;">
            <!-- <option value="equalTo">Equal to</option> -->
            <option value="interval">Interval A</option>
            <option value="maxValue">Maximum value A (<)</option>
            <option value="minValue">Minimum value A (>)</option>  
        </select>
    </div>
    <div class="form-row columm" style="display: flex;">
        <div class=box>
            <div class="node-input-min-valueA" style="display: none; width: min-content; float: left; margin-right: 40px;">
                <div class="columm">
                    <label for="node-input-minValueA" style="width: max-content !important;"><i class="icon-tag"></i>Minimum Value: </label>
                    <input type="number" id="node-input-minValueA" style=" width:70px !important ">
                </div>  
            </div>

            <div class="node-input-max-valueA" style="display: none;">
                <div class="columm">
                    <label for="node-input-maxValueA" style="width: max-content !important"><i class="icon-tag"></i>Maximum Value: </label>
                    <input type="number" id="node-input-maxValueA" style=" width:70px !important ">
                </div>  
            </div>
        </div>
    </div>

    <hr class="hr-full">

    <div class="form-row columm">
        <label style="width: auto;" for="node-input-compare_selectB"><i class="icon-tag"></i>Phase-B comparison type:</label>
        <select id="node-input-compare_selectB" style="width:170px;">
            <!-- <option value="equalTo">Equal to</option> -->
            <option value="interval">Interval B</option>
            <option value="maxValue">Maximum value B (<)</option>
            <option value="minValue">Minimum value B (>)</option>  
        </select>
    </div>
    <div class="form-row columm" style="display: flex;">
        <div class=box>
            <div class="node-input-min-valueB" style="display: none; width: min-content; float: left; margin-right: 40px;">
                <div class="columm">
                    <label for="node-input-minValueB" style="width: max-content !important;"><i class="icon-tag"></i>Minimum Value: </label>
                    <input type="number" id="node-input-minValueB" style=" width:70px !important ">
                </div>  
            </div>

            <div class="node-input-max-valueB" style="display: none;">
                <div class="columm">
                    <label for="node-input-maxValueB" style="width: max-content !important"><i class="icon-tag"></i>Maximum Value: </label>
                    <input type="number" id="node-input-maxValueB" style=" width:70px !important ">
                </div>  
            </div>
        </div>
    </div>

    <hr class="hr-full">


    <div class="form-row columm">
        <label style="width: auto;" for="node-input-compare_selectC"><i class="icon-tag"></i>Phase-C comparison type:</label>
        <select id="node-input-compare_selectC" style="width:170px;">
            <!-- <option value="equalTo">Equal to</option> -->
            <option value="interval">Interval C</option>
            <option value="maxValue">Maximum value C (<)</option>
            <option value="minValue">Minimum value C (>)</option>  
        </select>
    </div>
    <div class="form-row columm" style="display: flex;">
        <div class=box>
            <div class="node-input-min-valueC" style="display: none; width: min-content; float: left; margin-right: 40px;">
                <div class="columm">
                    <label for="node-input-minValueC" style="width: max-content !important;"><i class="icon-tag"></i>Minimum Value: </label>
                    <input type="number" id="node-input-minValueC" style=" width:70px !important ">
                </div>  
            </div>

            <div class="node-input-max-valueC" style="display: none;">
                <div class="columm">
                    <label for="node-input-maxValueC" style="width: max-content !important"><i class="icon-tag"></i>Maximum Value: </label>
                    <input type="number" id="node-input-maxValueC" style=" width:70px !important ">
                </div>  
            </div>
        </div>
    </div>

    <div class="hr-div-get-voltage-3">
        <hr>
        <span class="optional">Optional</span>
        <hr>
    </div>
    <div class="form-row columm">
        <label style="width: 50% !important;" for="node-input-name" ><i class="fa fa-tag"></i> Component Nickname</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/html" data-help-name="get-voltage-3">
    <p>Working on it...</p>
</script>


